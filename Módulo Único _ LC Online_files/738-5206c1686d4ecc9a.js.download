(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{565:function(e,t,r){"use strict";r.d(t,{x:function(){return $}});var i={};r.r(i),r.d(i,{ApplicationUser:function(){return d},DigitalCourse:function(){return g},DigitalCourseMetrics:function(){return S},DigitalCourseModuleMetrics:function(){return b},DigitalCourseModuleTopic:function(){return f},DigitalCourseSummary:function(){return R},DigitalCourseTopicMetrics:function(){return v},ErrorMessageData:function(){return O},GetDigitalCoursesOutput:function(){return c},GetStaticDigitalCourseOutput:function(){return y},GetUserDigitalCourseOutput:function(){return h},PickSaveUserDigitalCourseInputExcludeKeyofSaveUserDigitalCourseInputDigitalCourseId:function(){return P},Role:function(){return p},StaticDigitalCourse:function(){return N},StaticDigitalCourseModule:function(){return C},ValidateUserTokenInput:function(){return l},ValidateUserTokenOutput:function(){return m},WebhookResult:function(){return z}});var a=r(3966),s=r(825),o=r(3961),n=r(2187),u=r(5283);const l={type:{name:"Composite",className:"ValidateUserTokenInput",modelProperties:{token:{serializedName:"token",required:!0,type:{name:"String"}}}}},m={type:{name:"Composite",className:"ValidateUserTokenOutput",modelProperties:{user:{serializedName:"user",type:{name:"Composite",className:"ApplicationUser"}}}}},d={type:{name:"Composite",className:"ApplicationUser",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},exp:{serializedName:"exp",nullable:!0,type:{name:"Number"}},nullableId:{serializedName:"nullableId",nullable:!0,type:{name:"String"}},email:{serializedName:"email",nullable:!0,type:{name:"String"}},googleId:{serializedName:"googleId",nullable:!0,type:{name:"String"}},avatarUrl:{serializedName:"avatarUrl",nullable:!0,type:{name:"String"}},about:{serializedName:"about",nullable:!0,type:{name:"String"}},phoneNumber:{serializedName:"phoneNumber",nullable:!0,type:{name:"String"}},cpf:{serializedName:"cpf",nullable:!0,type:{name:"String"}},cnpj:{serializedName:"cnpj",nullable:!0,type:{name:"String"}},fullName:{serializedName:"fullName",nullable:!0,type:{name:"String"}},firstName:{serializedName:"firstName",nullable:!0,type:{name:"String"}},lastName:{serializedName:"lastName",nullable:!0,type:{name:"String"}},roles:{serializedName:"roles",nullable:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Role"}}}}}}},p={type:{name:"Composite",className:"Role",modelProperties:{id:{serializedName:"id",type:{name:"String"}},nullableId:{serializedName:"nullableId",nullable:!0,type:{name:"String"}},name:{serializedName:"name",nullable:!0,type:{name:"String"}},description:{serializedName:"description",nullable:!0,type:{name:"String"}}}}},c={type:{name:"Composite",className:"GetDigitalCoursesOutput",modelProperties:{digitalCourses:{serializedName:"digitalCourses",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DigitalCourse"}}}}}}},g={type:{name:"Composite",className:"DigitalCourse",modelProperties:{uuid:{serializedName:"uuid",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},logo:{serializedName:"logo",type:{name:"String"}}}}},y={type:{name:"Composite",className:"GetStaticDigitalCourseOutput",modelProperties:{digitalCourse:{serializedName:"digitalCourse",type:{name:"Composite",className:"StaticDigitalCourse"}}}}},N={type:{name:"Composite",className:"StaticDigitalCourse",modelProperties:{uuid:{serializedName:"uuid",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},logo:{serializedName:"logo",type:{name:"String"}},modules:{serializedName:"modules",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"StaticDigitalCourseModule"}}}}}}},C={type:{name:"Composite",className:"StaticDigitalCourseModule",modelProperties:{uuid:{serializedName:"uuid",required:!0,type:{name:"String"}},digitalCourseId:{serializedName:"digitalCourseId",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},order:{serializedName:"order",required:!0,type:{name:"Number"}},description:{serializedName:"description",required:!0,type:{name:"String"}},topics:{serializedName:"topics",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DigitalCourseModuleTopic"}}}}}}},f={type:{name:"Composite",className:"DigitalCourseModuleTopic",modelProperties:{uuid:{serializedName:"uuid",required:!0,type:{name:"String"}},digitalCourseId:{serializedName:"digitalCourseId",required:!0,type:{name:"String"}},digitalCourseModuleId:{serializedName:"digitalCourseModuleId",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},order:{serializedName:"order",required:!0,type:{name:"Number"}},description:{serializedName:"description",required:!0,type:{name:"String"}},observations:{serializedName:"observations",type:{name:"String"}},externalVideoId:{serializedName:"externalVideoId",type:{name:"String"}},externalVideoUrl:{serializedName:"externalVideoUrl",type:{name:"String"}},videoLength:{serializedName:"videoLength",type:{name:"Number"}}}}},h={type:{name:"Composite",className:"GetUserDigitalCourseOutput",modelProperties:{digitalCourseId:{serializedName:"digitalCourseId",required:!0,type:{name:"String"}},metrics:{serializedName:"metrics",type:{name:"Composite",className:"DigitalCourseMetrics"}},summary:{serializedName:"summary",type:{name:"Composite",className:"DigitalCourseSummary"}},webhookResult:{serializedName:"webhookResult",type:{name:"Composite",className:"WebhookResult"}}}}},S={type:{name:"Composite",className:"DigitalCourseMetrics",modelProperties:{modules:{serializedName:"modules",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DigitalCourseModuleMetrics"}}}}}}},b={type:{name:"Composite",className:"DigitalCourseModuleMetrics",modelProperties:{uuid:{serializedName:"uuid",required:!0,type:{name:"String"}},topics:{serializedName:"topics",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DigitalCourseTopicMetrics"}}}}}}},v={type:{name:"Composite",className:"DigitalCourseTopicMetrics",modelProperties:{uuid:{serializedName:"uuid",required:!0,type:{name:"String"}},done:{serializedName:"done",required:!0,type:{name:"Boolean"}}}}},R={type:{name:"Composite",className:"DigitalCourseSummary",modelProperties:{progress:{serializedName:"progress",required:!0,type:{name:"Number"}}}}},z={type:{name:"Composite",className:"WebhookResult",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorMessageData"}},success:{serializedName:"success",required:!0,type:{name:"Boolean"}}}}},O={type:{name:"Composite",className:"ErrorMessageData",modelProperties:{message:{serializedName:"message",required:!0,type:{name:"String"}}}}},P={type:{name:"Composite",className:"PickSaveUserDigitalCourseInputExcludeKeyofSaveUserDigitalCourseInputDigitalCourseId",modelProperties:{metrics:{serializedName:"metrics",type:{name:"Composite",className:"DigitalCourseMetrics"}},webhookEndpoint:{serializedName:"webhookEndpoint",type:{name:"String"}}}}},q={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},E={parameterPath:"body",mapper:l},D={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},I={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},k={parameterPath:"digitalCourseId",mapper:{serializedName:"digitalCourseId",required:!0,type:{name:"String"}}},U={parameterPath:"body",mapper:P};class M extends s.S{constructor(e){var t,r;e||(e={});const i="azsdk-js-api-client/1.0.0-beta.1",a=e.userAgentOptions&&e.userAgentOptions.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,s=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),e),{userAgentOptions:{userAgentPrefix:a},baseUri:null!==(r=null!==(t=e.endpoint)&&void 0!==t?t:e.baseUri)&&void 0!==r?r:"http://localhost:3100"});if(super(s),(null===e||void 0===e?void 0:e.pipeline)&&e.pipeline.getOrderedPolicies().length>0){e.pipeline.getOrderedPolicies().some((e=>e.name===u.V))||(this.pipeline.removePolicy({name:u.V}),this.pipeline.addPolicy(u.v({scopes:`${s.baseUri}/.default`,challengeCallbacks:{authorizeRequestOnChallenge:o.k}})))}this.$host=e.$host||"http://localhost:3100"}validateUserToken(e,t){return this.sendOperationRequest({body:e,options:t},w)}getDigitalCourses(e){return this.sendOperationRequest({options:e},_)}getStaticDigitalCourse(e,t){return this.sendOperationRequest({digitalCourseId:e,options:t},x)}getUserDigitalCourse(e,t){return this.sendOperationRequest({digitalCourseId:e,options:t},A)}saveUserDigitalCourse(e,t,r){return this.sendOperationRequest({digitalCourseId:e,body:t,options:r},j)}}const T=n.Q(i,!1),w={path:"/auth/validate-user-token",httpMethod:"POST",responses:{200:{bodyMapper:m}},requestBody:E,urlParameters:[I],headerParameters:[q,D],mediaType:"json",serializer:T},_={path:"/digital-courses",httpMethod:"GET",responses:{200:{bodyMapper:c}},urlParameters:[I],headerParameters:[D],serializer:T},x={path:"/next/staticDigitalCourse/{digitalCourseId}",httpMethod:"GET",responses:{200:{bodyMapper:y}},urlParameters:[I,k],headerParameters:[D],serializer:T},A={path:"/user-digital-courses/{digitalCourseId}",httpMethod:"GET",responses:{200:{bodyMapper:h}},queryParameters:[{parameterPath:["options","webhookEndpoint"],mapper:{serializedName:"webhookEndpoint",type:{name:"String"}}}],urlParameters:[I,k],headerParameters:[D],serializer:T},j={path:"/user-digital-courses/{digitalCourseId}",httpMethod:"POST",responses:{201:{bodyMapper:h}},requestBody:U,urlParameters:[I,k],headerParameters:[q,D],mediaType:"json",serializer:T};var V={BaseUrl:"https://cursos.letscode.com.br",SSO:{URL:"https://sso.letscode.com.br",TokenCookieName:"LC_SSO_userToken"},Api:{BaseUrl:"https://cursos-api.letscode.com.br"},isDevelopment:!1},W=(0,a.t)(),$=new M({allowInsecureConnection:!0,$host:V.Api.BaseUrl,baseUri:V.Api.BaseUrl,httpClient:{sendRequest:function(e){return e.withCredentials=!0,W.sendRequest(e)}}})},6131:function(e,t,r){"use strict";r.d(t,{I3:function(){return l},S3:function(){return u}});var i,a=r(484),s=r(6052);function o(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function n(e){if(o(e,a.o)){if(function(e){return!e.response&&Boolean(e.code)&&"ECONNABORTED"!==e.code}(e))return i.NETWORK_ERROR;if(e.statusCode&&e.statusCode>=500)return i.SERVER_ERROR}return i.UNKNOWN_ERROR}function u(e){var t=n(e);throw t===i.NETWORK_ERROR&&s.Am.error("Problema de conex\xe3o."),t===i.SERVER_ERROR&&s.Am.error("Houve um problema no servidor. Contate o suporte."),t===i.UNKNOWN_ERROR&&s.Am.error("Houve um erro desconhecido. Contate o suporte."),e}function l(e){return o(e,a.o)&&404===e.statusCode}!function(e){e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.SERVER_ERROR=2]="SERVER_ERROR",e[e.CLIENT_ERROR=3]="CLIENT_ERROR",e[e.UNKNOWN_ERROR=4]="UNKNOWN_ERROR"}(i||(i={}))},9903:function(e,t,r){"use strict";r.d(t,{T:function(){return p}});var i=r(4776),a=r.n(i),s=r(2784),o=r(6052),n=r(565),u=r(6131),l=r(468);var m=r(3454);function d(e,t,r,i,a,s,o){try{var n=e[s](o),u=n.value}catch(l){return void r(l)}n.done?t(u):Promise.resolve(u).then(i,a)}var p=function(e){var t=(0,s.useState)(),r=t[0],i=t[1],p=(0,m.$)();return(0,s.useEffect)((function(){return function(e){var t=new l.H;return e(t.signal,(function(e){t.signal.aborted||e()})),function(){t.abort()}}(function(){var t,r=(t=a().mark((function t(r,s){var l,m,d,g,y,N;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,n.x.getUserDigitalCourse(e.uuid,{abortSignal:r,webhookEndpoint:null===p||void 0===p?void 0:p.endpoint});case 4:m=t.sent,!1===(null===(l=m.webhookResult)||void 0===l?void 0:l.success)&&(N=null!==(y=null===(d=m.webhookResult.error)||void 0===d?void 0:d.message)&&void 0!==y?y:"Houve um problema ao sincronizar seu progresso no curso com ".concat(null!==(g=null===p||void 0===p?void 0:p.title)&&void 0!==g?g:"a origem",". Tente recarregar a p\xe1gina ou contate o suporte."),o.Am.warn(N)),i(m),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s((function(){if((0,u.I3)(t.t0)){var r=c(e);i(r)}else(0,u.S3)(t.t0)}));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),function(){var e=this,r=arguments;return new Promise((function(i,a){var s=t.apply(e,r);function o(e){d(s,i,a,o,n,"next",e)}function n(e){d(s,i,a,o,n,"throw",e)}o(void 0)}))});return function(e,t){return r.apply(this,arguments)}}())}),[e,p]),{userDigitalCourse:r,setUserDigitalCourse:i}};function c(e){return{digitalCourseId:e.uuid,metrics:{modules:e.modules.map((function(e){return{uuid:e.uuid,topics:e.topics.map((function(e){return{uuid:e.uuid,done:!1}}))}}))},summary:{progress:0}}}},3454:function(e,t,r){"use strict";r.d(t,{$:function(){return m},v:function(){return l}});var i=r(2322),a=r(5632),s=r(2784);function o(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r,i,a={},s=Object.keys(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var n=(0,s.createContext)({title:"__default__",endpoint:"",returnUrl:""}),u="webhook",l=function(e){var t=e.children,r=(0,s.useState)(),l=r[0],m=r[1],d=(0,a.useRouter)();return(0,s.useEffect)((function(){if(d.isReady){var e=d.query.webhook;if("string"===typeof e&&e){sessionStorage.setItem(u,e);var t=JSON.parse(e);m(t);var r=d.query,i=(r.webhook,o(r,["webhook"]));d.replace({pathname:d.pathname,query:i},void 0,{shallow:!0})}}}),[d]),(0,s.useEffect)((function(){var e=sessionStorage.getItem(u);if(null!=e){var t=JSON.parse(e);m(t)}}),[]),(0,i.jsx)(n.Provider,{value:l,children:t})};function m(){var e=(0,s.useContext)(n);if("__default__"===(null===e||void 0===e?void 0:e.title))throw Error("useWebhook must be used within a WebhookProvider");return e}},7406:function(){}}]);